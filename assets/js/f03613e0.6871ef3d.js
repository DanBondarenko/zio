"use strict";(self.webpackChunkzio_site=self.webpackChunkzio_site||[]).push([[46927],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var o=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var g=o.createContext({}),s=function(e){var t=o.useContext(g),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=s(e.components);return o.createElement(g.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,g=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=s(n),u=i,m=c["".concat(g,".").concat(u)]||c[u]||d[u]||a;return n?o.createElement(m,r(r({ref:t},p),{},{components:n})):o.createElement(m,r({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=u;var l={};for(var g in t)hasOwnProperty.call(t,g)&&(l[g]=t[g]);l.originalType=e,l[c]="string"==typeof e?e:i,r[1]=l;for(var s=2;s<a;s++)r[s]=n[s];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},97533:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var o=n(87462),i=(n(67294),n(3905));const a={id:"index",title:"Introduction to ZIO Logging",sidebar_label:"Introduction"},r=void 0,l={unversionedId:"zio-logging/index",id:"zio-logging/index",title:"Introduction to ZIO Logging",description:"ZIO Logging is simple logging for ZIO apps, with correlation, context, and pluggable backends out of the box with integrations for common logging backends.",source:"@site/docs/zio-logging/index.md",sourceDirName:"zio-logging",slug:"/zio-logging/",permalink:"/zio-logging/",draft:!1,editUrl:"https://github.com/zio/zio/edit/series/2.x/docs/zio-logging/index.md",tags:[],version:"current",frontMatter:{id:"index",title:"Introduction to ZIO Logging",sidebar_label:"Introduction"},sidebar:"ecosystem-sidebar",previous:{title:"ZIO Lambda",permalink:"/zio-lambda/"},next:{title:"Formatting Log Records",permalink:"/zio-logging/formatting-log-records"}},g={},s=[{value:"Introduction",id:"introduction",level:2},{value:"Installation",id:"installation",level:2},{value:"Example",id:"example",level:2}],p={toc:s},c="wrapper";function d(e){let{components:t,...n}=e;return(0,i.kt)(c,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/zio/zio-logging"},"ZIO Logging")," is simple logging for ZIO apps, with correlation, context, and pluggable backends out of the box with integrations for common logging backends."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/zio/zio/wiki/Project-Stages"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Project%20Stage-Production%20Ready-brightgreen.svg",alt:"Production Ready"}))," ",(0,i.kt)("img",{parentName:"p",src:"https://github.com/zio/zio-logging/workflows/CI/badge.svg",alt:"CI Badge"})," ",(0,i.kt)("a",{parentName:"p",href:"https://oss.sonatype.org/content/repositories/releases/dev/zio/zio-logging_2.13/"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/nexus/r/https/oss.sonatype.org/dev.zio/zio-logging_2.13.svg?label=Sonatype%20Release",alt:"Sonatype Releases"}))," ",(0,i.kt)("a",{parentName:"p",href:"https://oss.sonatype.org/content/repositories/snapshots/dev/zio/zio-logging_2.13/"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/nexus/s/https/oss.sonatype.org/dev.zio/zio-logging_2.13.svg?label=Sonatype%20Snapshot",alt:"Sonatype Snapshots"}))," ",(0,i.kt)("a",{parentName:"p",href:"https://javadoc.io/doc/dev.zio/zio-logging-docs_2.13"},(0,i.kt)("img",{parentName:"a",src:"https://javadoc.io/badge2/dev.zio/zio-logging-docs_2.13/javadoc.svg",alt:"javadoc"}))," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/zio/zio-logging"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/github/stars/zio/zio-logging?style=social",alt:"zio-logging"}))),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"When we are writing our applications using ZIO effects, to log easy way we need a ZIO native solution for logging. ZIO Logging is an environmental effect for adding logging into our ZIO applications."),(0,i.kt)("p",null,"Key features of ZIO Logging:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"ZIO Native")," \u2014 Other than it is a type-safe and purely functional solution, it leverages ZIO's features."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Multi-Platform")," - It supports both JVM and JS platforms."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Composable")," \u2014 Loggers are composable together via contraMap."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Pluggable Backends")," \u2014 Support multiple backends like ZIO Console, SLF4j, JS Console, JS HTTP endpoint."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Logger Context")," \u2014 It has a first citizen ",(0,i.kt)("em",{parentName:"li"},"Logger Context")," implemented on top of ",(0,i.kt)("inlineCode",{parentName:"li"},"FiberRef"),". The Logger Context maintains information like logger name, filters, correlation id, and so forth across different fibers. It supports ",(0,i.kt)("em",{parentName:"li"},"Mapped Diagnostic Context (MDC)")," which manages contextual information across fibers in a concurrent environment."),(0,i.kt)("li",{parentName:"ul"},"Richly integrated into ZIO 2's built-in logging facilities"),(0,i.kt)("li",{parentName:"ul"},"ZIO Console, SLF4j, and other backends")),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"In order to use this library, we need to add the following line in our ",(0,i.kt)("inlineCode",{parentName:"p"},"build.sbt")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'libraryDependencies += "dev.zio" %% "zio-logging" % "2.1.12"\n')),(0,i.kt)("p",null,"There are also some optional dependencies:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'// JPL integration\nlibraryDependencies += "dev.zio" %% "zio-logging-jpl" % "2.1.12"\n\n// SLF4j v1 integration\nlibraryDependencies += "dev.zio" %% "zio-logging-slf4j" % "2.1.12"\n\n// SLF4j v2 integration\nlibraryDependencies += "dev.zio" %% "zio-logging-slf4j2" % "2.1.12"\n\n// Using ZIO Logging for SLF4j v1 loggers, usually third-party non-ZIO libraries\nlibraryDependencies += "dev.zio" %% "zio-logging-slf4j-bridge" % "2.1.12"\n\n// Using ZIO Logging for SLF4j v2 loggers, usually third-party non-ZIO libraries\nlibraryDependencies += "dev.zio" %% "zio-logging-slf4j2-bridge" % "2.1.12"\n')),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)("p",null,"Let's try an example of ZIO Logging which demonstrates a simple application of ZIO logging."),(0,i.kt)("p",null,"The recommended place for setting the logger is application boostrap. In this case, custom logger will be set for whole application runtime (also application failures will be logged with specified logger)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'package zio.logging.example\n\nimport zio.logging.consoleLogger\nimport zio.{ ExitCode, Runtime, Scope, ZIO, ZIOAppArgs, ZIOAppDefault, ZLayer }\n\nobject SimpleApp extends ZIOAppDefault {\n\n  override val bootstrap: ZLayer[ZIOAppArgs, Any, Any] =\n    Runtime.removeDefaultLoggers >>> consoleLogger()\n\n  override def run: ZIO[Scope, Any, ExitCode] =\n    for {\n      _ <- ZIO.logInfo("Start")\n      _ <- ZIO.fail("FAILURE")\n      _ <- ZIO.logInfo("Done")\n    } yield ExitCode.success\n\n}\n')),(0,i.kt)("p",null,"Expected console output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'timestamp=2023-03-15T08:36:24.421098+01:00 level=INFO thread=zio-fiber-4 message="Start"\ntimestamp=2023-03-15T08:36:24.440181+01:00 level=ERROR thread=zio-fiber-0 message="" cause=Exception in thread "zio-fiber-4" java.lang.String: FAILURE\n    at zio.logging.example.SimpleApp.run(SimpleApp.scala:29)\n')),(0,i.kt)("p",null,"You can find the source code of examples ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/zio/zio-logging/tree/master/examples"},"here")))}d.isMDXComponent=!0}}]);